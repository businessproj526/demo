

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Drain of Wealth: Interactive Journey</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.4/gsap.min.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Quicksand:wght@400;500;600;700&display=swap');
        
        body {
            font-family: 'Quicksand', sans-serif;
            overflow: hidden;
            margin: 0;
            padding: 0;
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
        }
        
        .scene {
            position: absolute;
            width: 100%;
            height: 100%;
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.5s ease;
        }
        
        .scene.active {
            opacity: 1;
            visibility: visible;
        }
        
        .character {
            position: absolute;
            transition: transform 0.5s ease;
        }
        
        .item {
            position: absolute;
            transition: all 0.5s ease;
        }
        
        .glassmorphism-button {
            background: rgba(255, 255, 255, 0.25);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.18);
            box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.37);
            border-radius: 10px;
            padding: 12px 24px;
            color: #333;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .glassmorphism-button:hover {
            background: rgba(255, 255, 255, 0.4);
            transform: translateY(-3px);
            box-shadow: 0 10px 40px 0 rgba(31, 38, 135, 0.5);
        }
        
        .popup {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.2);
            z-index: 1000;
            max-width: 500px;
            width: 80%;
            text-align: center;
            display: none;
        }
        
        .boat {
            transition: transform 4s ease;
        }
        
        .money, .bill, .goods {
            position: absolute;
            opacity: 0;
        }
        
        .summary-panel {
            position: fixed;
            bottom: 20px;
            left: 20px;
            background: rgba(255, 255, 255, 0.8);
            backdrop-filter: blur(5px);
            border-radius: 10px;
            padding: 15px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
            max-width: 300px;
            font-size: 14px;
            display: none;
        }
    </style>
</head>
<body>
    <!-- Scene 1: London - Council Bill Exchange -->
    <div id="scene1" class="scene active">
        <div class="absolute inset-0 bg-gradient-to-br from-blue-100 to-gray-200">
            <!-- London Background -->
            <svg class="w-full h-full" viewBox="0 0 1000 600" xmlns="http://www.w3.org/2000/svg">
                <!-- Sky -->
                <rect x="0" y="0" width="1000" height="400" fill="#c6e6fb" />
                
                <!-- Ground -->
                <rect x="0" y="400" width="1000" height="200" fill="#8b9862" />
                
                <!-- British Government Building -->
                <g id="govt-building">
                    <rect x="600" y="200" width="300" height="250" fill="#d9c3a9" stroke="#333" stroke-width="2" />
                    <rect x="650" y="250" width="60" height="100" fill="#6a8caf" stroke="#333" />
                    <rect x="750" y="250" width="60" height="100" fill="#6a8caf" stroke="#333" />
                    <rect x="850" y="250" width="60" height="100" fill="#6a8caf" stroke="#333" />
                    <rect x="730" y="400" width="40" height="50" fill="#5d4037" />
                    <text x="750" y="180" font-size="20" text-anchor="middle" fill="#333">British Government</text>
                    
                    <!-- Treasury Chest -->
                    <rect id="london-treasury" x="750" y="350" width="50" height="30" fill="#8d6e63" stroke="#333" />
                    <rect x="750" y="350" width="50" height="5" fill="#5d4037" />
                </g>
                
                <!-- London Port -->
                <rect x="100" y="400" width="200" height="50" fill="#8d6e63" />
                <text x="200" y="430" font-size="16" text-anchor="middle" fill="white">London Port</text>
                
                <!-- Boat at London Port -->
                <g id="boat-london" class="boat" transform="translate(150, 380)">
                    <path d="M0,20 C20,5 80,5 100,20 L100,40 L0,40 Z" fill="#7b5e57" />
                    <rect x="45" y="0" width="10" height="20" fill="#a1887f" />
                    <path d="M45,0 L65,10 L45,10 Z" fill="#d7ccc8" />
                </g>
            </svg>
            
            <!-- British Trader -->
            <div id="british-trader" class="character" style="left: 200px; top: 350px;">
                <svg width="60" height="100" viewBox="0 0 60 100">
                    <circle cx="30" cy="20" r="15" fill="#ffe0b2" /> <!-- Head -->
                    <rect x="20" y="35" width="20" height="30" fill="#3949ab" /> <!-- Body -->
                    <rect x="20" y="65" width="8" height="20" fill="#5c6bc0" /> <!-- Left Leg -->
                    <rect x="32" y="65" width="8" height="20" fill="#5c6bc0" /> <!-- Right Leg -->
                    <rect x="10" y="40" width="10" height="5" fill="#ffe0b2" /> <!-- Left Arm -->
                    <rect x="40" y="40" width="10" height="5" fill="#ffe0b2" /> <!-- Right Arm -->
                    <rect x="25" y="15" width="10" height="5" fill="#3e2723" /> <!-- Hat -->
                    <rect x="20" y="20" width="20" height="2" fill="#3e2723" /> <!-- Hat Brim -->
                </svg>
            </div>
            
            <!-- Pounds -->
            <div id="pounds" class="money">
                <svg width="30" height="30" viewBox="0 0 30 30">
                    <circle cx="15" cy="15" r="14" fill="#ffd700" stroke="#333" />
                    <text x="15" y="20" font-size="14" text-anchor="middle" fill="#333">Â£</text>
                </svg>
            </div>
            
            <!-- Council Bills -->
            <div id="council-bills" class="bill">
                <svg width="40" height="30" viewBox="0 0 40 30">
                    <rect x="0" y="0" width="40" height="30" fill="#f5f5f5" stroke="#333" />
                    <line x1="5" y1="10" x2="35" y2="10" stroke="#333" stroke-width="1" />
                    <line x1="5" y1="15" x2="35" y2="15" stroke="#333" stroke-width="1" />
                    <line x1="5" y1="20" x2="35" y2="20" stroke="#333" stroke-width="1" />
                </svg>
            </div>
            
            <!-- Button -->
            <div class="absolute bottom-10 right-10">
                <button id="button1" class="glassmorphism-button text-lg">
                    Let's Start the Trade
                </button>
                <button id="button2" class="glassmorphism-button text-lg hidden">
                    Let's Go to India
                </button>
            </div>
        </div>
    </div>
    
    <!-- World Map Scene -->
    <div id="world-map" class="scene">
        <div class="absolute inset-0 bg-blue-100">
            <svg class="w-full h-full" viewBox="0 0 1000 600" xmlns="http://www.w3.org/2000/svg">
                <!-- Ocean -->
                <rect x="0" y="0" width="1000" height="600" fill="#a8d5ff" />
                
                <!-- Europe -->
                <path d="M400,200 C450,180 500,190 550,200 C600,210 650,200 680,220 C700,250 690,300 670,330 C650,350 600,360 550,350 C500,340 450,330 420,300 C390,270 380,230 400,200 Z" fill="#a5d6a7" stroke="#2e7d32" />
                
                <!-- India -->
                <path d="M750,300 C780,280 820,290 850,310 C880,330 900,360 890,390 C880,420 850,440 820,430 C790,420 770,390 760,360 C750,330 730,320 750,300 Z" fill="#a5d6a7" stroke="#2e7d32" />
                
                <!-- Labels -->
                <text x="550" y="280" font-size="24" text-anchor="middle" fill="#333">Europe</text>
                <text x="820" y="360" font-size="24" text-anchor="middle" fill="#333">India</text>
                
                <!-- Route Line -->
                <path id="route-path" d="M550,300 C600,350 700,380 750,350" stroke="#333" stroke-width="2" stroke-dasharray="5,5" fill="none" />
                
                <!-- Boat -->
                <g id="boat-map" class="boat" transform="translate(550, 290)">
                    <path d="M0,10 C10,2.5 40,2.5 50,10 L50,20 L0,20 Z" fill="#7b5e57" />
                    <rect x="22.5" y="0" width="5" height="10" fill="#a1887f" />
                    <path d="M22.5,0 L32.5,5 L22.5,5 Z" fill="#d7ccc8" />
                </g>
            </svg>
        </div>
    </div>
    
    <!-- Scene 2: India - Council Bill Redemption -->
    <div id="scene2" class="scene">
        <div class="absolute inset-0 bg-gradient-to-br from-orange-50 to-yellow-100">
            <!-- India Background -->
            <svg class="w-full h-full" viewBox="0 0 1000 600" xmlns="http://www.w3.org/2000/svg">
                <!-- Sky -->
                <rect x="0" y="0" width="1000" height="400" fill="#ffeaa7" />
                
                <!-- Ground -->
                <rect x="0" y="400" width="1000" height="200" fill="#e9c46a" />
                
                <!-- Indian Treasury (British-controlled) -->
                <g id="indian-treasury-building">
                    <rect x="600" y="200" width="300" height="250" fill="#f0e6d2" stroke="#333" stroke-width="2" />
                    <rect x="650" y="250" width="60" height="100" fill="#6a8caf" stroke="#333" />
                    <rect x="750" y="250" width="60" height="100" fill="#6a8caf" stroke="#333" />
                    <rect x="850" y="250" width="60" height="100" fill="#6a8caf" stroke="#333" />
                    <rect x="730" y="400" width="40" height="50" fill="#5d4037" />
                    <text x="750" y="180" font-size="20" text-anchor="middle" fill="#333">Indian Treasury (British-controlled)</text>
                    
                    <!-- Treasury Chest -->
                    <rect id="india-treasury" x="750" y="350" width="50" height="30" fill="#8d6e63" stroke="#333" />
                    <rect x="750" y="350" width="50" height="5" fill="#5d4037" />
                </g>
                
                <!-- Indian Port -->
                <rect x="100" y="400" width="200" height="50" fill="#8d6e63" />
                <text x="200" y="430" font-size="16" text-anchor="middle" fill="white">Indian Port</text>
                
                <!-- Boat at Indian Port -->
                <g id="boat-india" class="boat" transform="translate(150, 380)">
                    <path d="M0,20 C20,5 80,5 100,20 L100,40 L0,40 Z" fill="#7b5e57" />
                    <rect x="45" y="0" width="10" height="20" fill="#a1887f" />
                    <path d="M45,0 L65,10 L45,10 Z" fill="#d7ccc8" />
                </g>
                
                <!-- Farmer's Hut -->
                <g id="farmer-hut" transform="translate(300, 350)">
                    <rect x="0" y="0" width="100" height="70" fill="#d7ccc8" stroke="#333" />
                    <path d="M0,0 L50,-30 L100,0 Z" fill="#a1887f" stroke="#333" />
                    <rect x="40" y="30" width="20" height="40" fill="#5d4037" />
                    <text x="50" y="90" font-size="16" text-anchor="middle" fill="#333">Farmer's Hut</text>
                </g>
            </svg>
            
            <!-- British Trader in India -->
            <div id="british-trader-india" class="character" style="left: 150px; top: 350px;">
                <svg width="60" height="100" viewBox="0 0 60 100">
                    <circle cx="30" cy="20" r="15" fill="#ffe0b2" /> <!-- Head -->
                    <rect x="20" y="35" width="20" height="30" fill="#3949ab" /> <!-- Body -->
                    <rect x="20" y="65" width="8" height="20" fill="#5c6bc0" /> <!-- Left Leg -->
                    <rect x="32" y="65" width="8" height="20" fill="#5c6bc0" /> <!-- Right Leg -->
                    <rect x="10" y="40" width="10" height="5" fill="#ffe0b2" /> <!-- Left Arm -->
                    <rect x="40" y="40" width="10" height="5" fill="#ffe0b2" /> <!-- Right Arm -->
                    <rect x="25" y="15" width="10" height="5" fill="#3e2723" /> <!-- Hat -->
                    <rect x="20" y="20" width="20" height="2" fill="#3e2723" /> <!-- Hat Brim -->
                </svg>
            </div>
            
            <!-- Indian Farmer -->
            <div id="indian-farmer" class="character" style="left: 350px; top: 350px;">
                <svg width="60" height="100" viewBox="0 0 60 100">
                    <circle cx="30" cy="20" r="15" fill="#d7ccc8" /> <!-- Head -->
                    <rect x="20" y="35" width="20" height="30" fill="#c8a165" /> <!-- Body -->
                    <rect x="20" y="65" width="8" height="20" fill="#8d6e63" /> <!-- Left Leg -->
                    <rect x="32" y="65" width="8" height="20" fill="#8d6e63" /> <!-- Right Leg -->
                    <rect x="10" y="40" width="10" height="5" fill="#d7ccc8" /> <!-- Left Arm -->
                    <rect x="40" y="40" width="10" height="5" fill="#d7ccc8" /> <!-- Right Arm -->
                    <rect x="20" y="10" width="20" height="5" fill="#efebe9" /> <!-- Turban -->
                </svg>
            </div>
            
            <!-- Council Bills -->
            <div id="council-bills-india" class="bill">
                <svg width="40" height="30" viewBox="0 0 40 30">
                    <rect x="0" y="0" width="40" height="30" fill="#f5f5f5" stroke="#333" />
                    <line x1="5" y1="10" x2="35" y2="10" stroke="#333" stroke-width="1" />
                    <line x1="5" y1="15" x2="35" y2="15" stroke="#333" stroke-width="1" />
                    <line x1="5" y1="20" x2="35" y2="20" stroke="#333" stroke-width="1" />
                </svg>
            </div>
            
            <!-- Rupees -->
            <div id="rupees" class="money">
                <svg width="30" height="30" viewBox="0 0 30 30">
                    <circle cx="15" cy="15" r="14" fill="#c5e1a5" stroke="#333" />
                    <text x="15" y="20" font-size="14" text-anchor="middle" fill="#333">â¹</text>
                </svg>
            </div>
            
            <!-- Goods -->
            <div id="goods" class="goods">
                <svg width="80" height="60" viewBox="0 0 80 60">
                    <rect x="0" y="0" width="25" height="25" fill="#8d6e63" stroke="#333" />
                    <text x="12.5" y="15" font-size="8" text-anchor="middle" fill="white">Tea</text>
                    
                    <rect x="27" y="0" width="25" height="25" fill="#a1887f" stroke="#333" />
                    <text x="39.5" y="15" font-size="8" text-anchor="middle" fill="white">Cotton</text>
                    
                    <rect x="54" y="0" width="25" height="25" fill="#bcaaa4" stroke="#333" />
                    <text x="66.5" y="15" font-size="8" text-anchor="middle" fill="white">Jute</text>
                </svg>
            </div>
            
            <!-- British Tax Officer -->
            <div id="tax-officer" class="character" style="left: 500px; top: 350px; display: none;">
                <svg width="60" height="100" viewBox="0 0 60 100">
                    <circle cx="30" cy="20" r="15" fill="#ffccbc" /> <!-- Head -->
                    <rect x="20" y="35" width="20" height="30" fill="#bf360c" /> <!-- Body -->
                    <rect x="20" y="65" width="8" height="20" fill="#8d6e63" /> <!-- Left Leg -->
                    <rect x="32" y="65" width="8" height="20" fill="#8d6e63" /> <!-- Right Leg -->
                    <rect x="10" y="40" width="10" height="5" fill="#ffccbc" /> <!-- Left Arm -->
                    <rect x="40" y="40" width="10" height="5" fill="#ffccbc" /> <!-- Right Arm -->
                    <rect x="20" y="10" width="20" height="10" fill="#3e2723" /> <!-- Hat -->
                </svg>
            </div>
            
            <!-- Farmer's Coin Pouch -->
            <div id="farmer-pouch" class="item" style="left: 350px; top: 420px; display: none;">
                <svg width="30" height="30" viewBox="0 0 30 30">
                    <path d="M5,10 C5,5 25,5 25,10 L25,25 C25,30 5,30 5,25 Z" fill="#8d6e63" stroke="#5d4037" />
                    <path d="M5,10 C5,15 25,15 25,10" fill="none" stroke="#5d4037" />
                </svg>
            </div>
            
            <!-- Buttons -->
            <div class="absolute bottom-10 right-10">
                <button id="button3" class="glassmorphism-button text-lg">
                    Let's Redeem Council Bills and Get Rupees
                </button>
                <button id="button4" class="glassmorphism-button text-lg hidden">
                    Let's Purchase Goods
                </button>
                <button id="button5" class="glassmorphism-button text-lg hidden">
                    Let's Go Home
                </button>
            </div>
        </div>
    </div>
    
    <!-- Scene 5: Farmer's Perspective -->
    <div id="scene5" class="scene">
        <div class="absolute inset-0 bg-gradient-to-br from-orange-50 to-yellow-100">
            <!-- Same background as Scene 2 but focused on farmer -->
            <svg class="w-full h-full" viewBox="0 0 1000 600" xmlns="http://www.w3.org/2000/svg">
                <!-- Sky -->
                <rect x="0" y="0" width="1000" height="400" fill="#ffeaa7" />
                
                <!-- Ground -->
                <rect x="0" y="400" width="1000" height="200" fill="#e9c46a" />
                
                <!-- Indian Treasury (British-controlled) -->
                <g id="indian-treasury-building-2" transform="translate(600, 200)">
                    <rect x="0" y="0" width="300" height="250" fill="#f0e6d2" stroke="#333" stroke-width="2" />
                    <rect x="50" y="50" width="60" height="100" fill="#6a8caf" stroke="#333" />
                    <rect x="150" y="50" width="60" height="100" fill="#6a8caf" stroke="#333" />
                    <rect x="250" y="50" width="60" height="100" fill="#6a8caf" stroke="#333" />
                    <rect x="130" y="200" width="40" height="50" fill="#5d4037" />
                    <text x="150" y="-20" font-size="20" text-anchor="middle" fill="#333">Indian Treasury (British-controlled)</text>
                    
                    <!-- Treasury Chest -->
                    <rect id="india-treasury-2" x="150" y="150" width="50" height="30" fill="#8d6e63" stroke="#333" />
                    <rect x="150" y="150" width="50" height="5" fill="#5d4037" />
                </g>
                
                <!-- Farmer's Hut -->
                <g id="farmer-hut-2" transform="translate(200, 350)">
                    <rect x="0" y="0" width="100" height="70" fill="#d7ccc8" stroke="#333" />
                    <path d="M0,0 L50,-30 L100,0 Z" fill="#a1887f" stroke="#333" />
                    <rect x="40" y="30" width="20" height="40" fill="#5d4037" />
                    <text x="50" y="90" font-size="16" text-anchor="middle" fill="#333">Farmer's Hut</text>
                </g>
                
                <!-- Farm Field -->
                <g transform="translate(100, 450)">
                    <rect x="0" y="0" width="300" height="100" fill="#aed581" />
                    <line x1="0" y1="20" x2="300" y2="20" stroke="#7cb342" stroke-width="2" />
                    <line x1="0" y1="40" x2="300" y2="40" stroke="#7cb342" stroke-width="2" />
                    <line x1="0" y1="60" x2="300" y2="60" stroke="#7cb342" stroke-width="2" />
                    <line x1="0" y1="80" x2="300" y2="80" stroke="#7cb342" stroke-width="2" />
                </g>
            </svg>
            
            <!-- Indian Farmer -->
            <div id="indian-farmer-2" class="character" style="left: 250px; top: 350px;">
                <svg width="60" height="100" viewBox="0 0 60 100">
                    <circle cx="30" cy="20" r="15" fill="#d7ccc8" /> <!-- Head -->
                    <rect x="20" y="35" width="20" height="30" fill="#c8a165" /> <!-- Body -->
                    <rect x="20" y="65" width="8" height="20" fill="#8d6e63" /> <!-- Left Leg -->
                    <rect x="32" y="65" width="8" height="20" fill="#8d6e63" /> <!-- Right Leg -->
                    <rect x="10" y="40" width="10" height="5" fill="#d7ccc8" /> <!-- Left Arm -->
                    <rect x="40" y="40" width="10" height="5" fill="#d7ccc8" /> <!-- Right Arm -->
                    <rect x="20" y="10" width="20" height="5" fill="#efebe9" /> <!-- Turban -->
                </svg>
            </div>
            
            <!-- British Tax Officer -->
            <div id="tax-officer-2" class="character" style="left: 400px; top: 350px;">
                <svg width="60" height="100" viewBox="0 0 60 100">
                    <circle cx="30" cy="20" r="15" fill="#ffccbc" /> <!-- Head -->
                    <rect x="20" y="35" width="20" height="30" fill="#bf360c" /> <!-- Body -->
                    <rect x="20" y="65" width="8" height="20" fill="#8d6e63" /> <!-- Left Leg -->
                    <rect x="32" y="65" width="8" height="20" fill="#8d6e63" /> <!-- Right Leg -->
                    <rect x="10" y="40" width="10" height="5" fill="#ffccbc" /> <!-- Left Arm -->
                    <rect x="40" y="40" width="10" height="5" fill="#ffccbc" /> <!-- Right Arm -->
                    <rect x="20" y="10" width="20" height="10" fill="#3e2723" /> <!-- Hat -->
                </svg>
            </div>
            
            <!-- Farmer's Coin Pouch -->
            <div id="farmer-pouch-2" class="item" style="left: 250px; top: 420px;">
                <svg width="30" height="30" viewBox="0 0 30 30">
                    <path d="M5,10 C5,5 25,5 25,10 L25,25 C25,30 5,30 5,25 Z" fill="#8d6e63" stroke="#5d4037" />
                    <path d="M5,10 C5,15 25,15 25,10" fill="none" stroke="#5d4037" />
                </svg>
            </div>
            
            <!-- Rupees for Tax -->
            <div id="tax-rupees" class="money" style="opacity: 0;">
                <svg width="30" height="30" viewBox="0 0 30 30">
                    <circle cx="15" cy="15" r="14" fill="#c5e1a5" stroke="#333" />
                    <text x="15" y="20" font-size="14" text-anchor="middle" fill="#333">â¹</text>
                </svg>
            </div>
            
            <!-- Button -->
            <div class="absolute bottom-10 right-10">
                <button id="button6" class="glassmorphism-button text-lg">
                    Let's Pay Tax
                </button>
            </div>
        </div>
    </div>
    
    <!-- Popup -->
    <div id="farmer-popup" class="popup">
        <h2 class="text-2xl font-bold mb-4">ð¾ Now You Are a Farmer</h2>
        <p class="mb-6">Let's see your side of the story.</p>
        <button id="ok-button" class="glassmorphism-button">OK</button>
    </div>
    
    <!-- Summary Panel -->
    <div id="summary-panel" class="summary-panel">
        <h3 class="text-lg font-bold mb-2">Drain of Wealth Summary</h3>
        <p>Farmer earned â¹20 from selling goods but paid â¹50 in taxes.</p>
        <p>British Trader made profit from both ends of the trade.</p>
        <p>This system drained wealth from India to Britain.</p>
        <div class="mt-4">
            <button id="replay-button" class="bg-blue-500 hover:bg-blue-600 text-white px-3 py-1 rounded text-sm">Replay</button>
            <button id="learn-more" class="bg-green-500 hover:bg-green-600 text-white px-3 py-1 rounded text-sm ml-2">Learn More</button>
        </div>
    </div>
    
    <script>
        // Global variables
        let currentScene = 1;
        
        // Wait for DOM to be fully loaded
        document.addEventListener('DOMContentLoaded', function() {
            // Scene 1 Button: Start the Trade
            document.getElementById('button1').addEventListener('click', function() {
                // Animate British Trader walking to Government Building
                const trader = document.getElementById('british-trader');
                gsap.to(trader, {
                    left: '650px',
                    top: '350px',
                    duration: 2,
                    onComplete: function() {
                        // Animate Pounds from Trader to Treasury
                        const pounds = document.getElementById('pounds');
                        pounds.style.left = '650px';
                        pounds.style.top = '350px';
                        pounds.style.opacity = '1';
                        
                        gsap.to(pounds, {
                            left: '750px',
                            top: '350px',
                            duration: 1,
                            onComplete: function() {
                                // Animate Council Bills from Treasury to Trader
                                const bills = document.getElementById('council-bills');
                                bills.style.left = '750px';
                                bills.style.top = '350px';
                                bills.style.opacity = '1';
                                
                                gsap.to(bills, {
                                    left: '650px',
                                    top: '350px',
                                    duration: 1,
                                    onComplete: function() {
                                        // Show the next button
                                        document.getElementById('button1').classList.add('hidden');
                                        document.getElementById('button2').classList.remove('hidden');
                                    }
                                });
                            }
                        });
                    }
                });
            });
            
            // Scene 1 Button: Let's Go to India
            document.getElementById('button2').addEventListener('click', function() {
                // Switch to World Map Scene
                switchScene(1, 'world-map');
                
                // Animate boat across the map
                const boat = document.getElementById('boat-map');
                gsap.to(boat, {
                    transform: 'translate(750, 350)',
                    duration: 4,
                    onComplete: function() {
                        // Switch to India Scene
                        setTimeout(function() {
                            switchScene('world-map', 2);
                        }, 1000);
                    }
                });
            });
            
            // Scene 2 Button: Redeem Council Bills
            document.getElementById('button3').addEventListener('click', function() {
                // Animate British Trader walking to Treasury
                const trader = document.getElementById('british-trader-india');
                gsap.to(trader, {
                    left: '650px',
                    top: '350px',
                    duration: 2,
                    onComplete: function() {
                        // Animate Council Bills from Trader to Treasury
                        const bills = document.getElementById('council-bills-india');
                        bills.style.left = '650px';
                        bills.style.top = '350px';
                        bills.style.opacity = '1';
                        
                        gsap.to(bills, {
                            left: '750px',
                            top: '350px',
                            duration: 1,
                            onComplete: function() {
                                // Animate Rupees from Treasury to Trader
                                const rupees = document.getElementById('rupees');
                                rupees.style.left = '750px';
                                rupees.style.top = '350px';
                                rupees.style.opacity = '1';
                                
                                gsap.to(rupees, {
                                    left: '650px',
                                    top: '350px',
                                    duration: 1,
                                    onComplete: function() {
                                        // Show the next button
                                        document.getElementById('button3').classList.add('hidden');
                                        document.getElementById('button4').classList.remove('hidden');
                                        
                                        // Move trader back toward farmer
                                        gsap.to(trader, {
                                            left: '250px',
                                            top: '350px',
                                            duration: 2
                                        });
                                    }
                                });
                            }
                        });
                    }
                });
            });
            
            // Scene 2 Button: Purchase Goods
            document.getElementById('button4').addEventListener('click', function() {
                const trader = document.getElementById('british-trader-india');
                const rupees = document.getElementById('rupees');
                
                // Animate Rupees from Trader to Farmer
                rupees.style.left = '250px';
                rupees.style.top = '350px';
                
                gsap.to(rupees, {
                    left: '350px',
                    top: '350px',
                    duration: 1,
                    onComplete: function() {
                        // Animate Goods from Farmer to Trader
                        const goods = document.getElementById('goods');
                        goods.style.left = '350px';
                        goods.style.top = '350px';
                        goods.style.opacity = '1';
                        
                        gsap.to(goods, {
                            left: '250px',
                            top: '350px',
                            duration: 1,
                            onComplete: function() {
                                // Show the next button
                                document.getElementById('button4').classList.add('hidden');
                                document.getElementById('button5').classList.remove('hidden');
                            }
                        });
                    }
                });
            });
            
            // Scene 2 Button: Go Home
            document.getElementById('button5').addEventListener('click', function() {
                const trader = document.getElementById('british-trader-india');
                const goods = document.getElementById('goods');
                
                // Animate Trader and Goods to the boat
                gsap.to([trader, goods], {
                    left: '150px',
                    duration: 2,
                    onComplete: function() {
                        // Switch to World Map Scene
                        switchScene(2, 'world-map');
                        
                        // Reset boat position
                        const boat = document.getElementById('boat-map');
                        gsap.set(boat, { transform: 'translate(750, 350)' });
                        
                        // Animate boat back to London
                        gsap.to(boat, {
                            transform: 'translate(550, 290)',
                            duration: 4,
                            onComplete: function() {
                                // Show the farmer popup
                                document.getElementById('farmer-popup').style.display = 'block';
                            }
                        });
                    }
                });
            });
            
            // Farmer Popup OK Button
            document.getElementById('ok-button').addEventListener('click', function() {
                document.getElementById('farmer-popup').style.display = 'none';
                switchScene('world-map', 5);
            });
            
            // Scene 5 Button: Pay Tax
            document.getElementById('button6').addEventListener('click', function() {
                const farmer = document.getElementById('indian-farmer-2');
                const taxOfficer = document.getElementById('tax-officer-2');
                const farmerPouch = document.getElementById('farmer-pouch-2');
                const taxRupees = document.getElementById('tax-rupees');
                
                // Animate Farmer walking to Tax Officer
                gsap.to(farmer, {
                    left: '350px',
                    duration: 1.5,
                    onComplete: function() {
                        // Show and animate tax rupees
                        taxRupees.style.left = '350px';
                        taxRupees.style.top = '350px';
                        taxRupees.style.opacity = '1';
                        
                        // Shrink farmer's pouch
                        gsap.to(farmerPouch, {
                            scale: 0.6,
                            duration: 1
                        });
                        
                        // Animate rupees to tax officer
                        gsap.to(taxRupees, {
                            left: '400px',
                            duration: 1,
                            onComplete: function() {
                                // Animate tax officer to treasury
                                gsap.to([taxOfficer, taxRupees], {
                                    left: '700px',
                                    duration: 2,
                                    onComplete: function() {
                                        // Grow treasury
                                        gsap.to('#india-treasury-2', {
                                            scaleY: 1.5,
                                            transformOrigin: 'bottom',
                                            duration: 1,
                                            onComplete: function() {
                                                // Show summary
                                                document.getElementById('summary-panel').style.display = 'block';
                                            }
                                        });
                                    }
                                });
                            }
                        });
                    }
                });
            });
            
            // Replay Button
            document.getElementById('replay-button').addEventListener('click', function() {
                location.reload();
            });
            
            // Learn More Button
            document.getElementById('learn-more').addEventListener('click', function() {
                alert("The Drain of Wealth theory was proposed by Dadabhai Naoroji in the 19th century. It explained how British colonial policies systematically transferred wealth from India to Britain through unfair trade, taxation, and economic policies.");
            });
        });
        
        // Function to switch between scenes
        function switchScene(fromScene, toScene) {
            // Hide current scene
            if (typeof fromScene === 'number') {
                document.getElementById('scene' + fromScene).classList.remove('active');
            } else {
                document.getElementById(fromScene).classList.remove('active');
            }
            
            // Show new scene
            if (typeof toScene === 'number') {
                document.getElementById('scene' + toScene).classList.add('active');
                currentScene = toScene;
            } else {
                document.getElementById(toScene).classList.add('active');
            }
        }
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'951ae363a4bf7f13',t:'MTc1MDI1MDc3My4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>

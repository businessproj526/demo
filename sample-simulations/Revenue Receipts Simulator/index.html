

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Government Receipts Simulator</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');
        
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f0f4f8;
        }
        
        .tree-node {
            transition: all 0.3s ease;
        }
        
        .tree-node.highlight {
            background-color: rgba(255, 236, 153, 0.7);
            box-shadow: 0 0 0 2px rgba(255, 193, 7, 0.5);
        }
        
        .coin {
            position: absolute;
            width: 20px;
            height: 20px;
            background-color: #ffc107;
            border-radius: 50%;
            z-index: 100;
            box-shadow: 0 2px 5px rgba(0,0,0,0.2);
        }
        
        .tooltip {
            visibility: hidden;
            position: absolute;
            background-color: #333;
            color: white;
            padding: 8px 12px;
            border-radius: 6px;
            z-index: 200;
            width: 250px;
            font-size: 14px;
            opacity: 0;
            transition: opacity 0.3s;
        }
        
        .has-tooltip:hover .tooltip {
            visibility: visible;
            opacity: 1;
        }
        
        .action-button {
            transition: all 0.2s ease;
        }
        
        .action-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }
        
        .action-button:active {
            transform: translateY(0);
        }
        
        @keyframes pulse {
            0% { box-shadow: 0 0 0 0 rgba(255, 193, 7, 0.7); }
            70% { box-shadow: 0 0 0 10px rgba(255, 193, 7, 0); }
            100% { box-shadow: 0 0 0 0 rgba(255, 193, 7, 0); }
        }
        
        .pulse {
            animation: pulse 1s ease-in-out;
        }
        
        /* Mobile responsiveness */
        @media (max-width: 768px) {
            .main-container {
                flex-direction: column;
            }
            
            .left-panel, .right-panel {
                width: 100%;
                max-width: 100%;
                margin-bottom: 20px;
            }
        }
    </style>
</head>
<body>
    <div class="min-h-screen p-4 md:p-8">
        <header class="mb-6">
            <h1 class="text-3xl md:text-4xl font-bold text-gray-800 text-center">Government Receipts Simulator</h1>
            <p class="text-center text-gray-600 mt-2">Learn how government income sources work through interactive simulation</p>
        </header>
        
        <div class="main-container flex flex-col md:flex-row gap-6">
            <!-- Left Panel - Action Buttons -->
            <div class="left-panel bg-white rounded-xl shadow-lg p-5 w-full md:w-1/3 md:max-w-md">
                <h2 class="text-xl font-semibold mb-4 text-gray-700 border-b pb-2">Revenue Generation Actions</h2>
                <div class="grid grid-cols-1 gap-3">
                    <button class="action-button bg-blue-600 hover:bg-blue-700 text-white py-3 px-4 rounded-lg text-left shadow-md" data-action="print500">
                        Print ₹500 Note
                    </button>
                    <button class="action-button bg-blue-600 hover:bg-blue-700 text-white py-3 px-4 rounded-lg text-left shadow-md" data-action="print100stamp">
                        Print ₹100 Stamp
                    </button>
                    <button class="action-button bg-blue-600 hover:bg-blue-700 text-white py-3 px-4 rounded-lg text-left shadow-md" data-action="mint10coin">
                        Mint ₹10 Coin
                    </button>
                    <button class="action-button bg-blue-600 hover:bg-blue-700 text-white py-3 px-4 rounded-lg text-left shadow-md" data-action="distributePower">
                        Distribute Power
                    </button>
                    <button class="action-button bg-blue-600 hover:bg-blue-700 text-white py-3 px-4 rounded-lg text-left shadow-md" data-action="irrigationCess">
                        Collect Irrigation Cess
                    </button>
                    <button class="action-button bg-blue-600 hover:bg-blue-700 text-white py-3 px-4 rounded-lg text-left shadow-md" data-action="bankDividend">
                        Get Dividend from Public Sector Bank
                    </button>
                    <button class="action-button bg-blue-600 hover:bg-blue-700 text-white py-3 px-4 rounded-lg text-left shadow-md" data-action="sellShares">
                        Sell Shares of Public Sector Undertaking
                    </button>
                    <button class="action-button bg-blue-600 hover:bg-blue-700 text-white py-3 px-4 rounded-lg text-left shadow-md" data-action="bankTaxes">
                        Collect Taxes on Bank's Profit
                    </button>
                    <button class="action-button bg-blue-600 hover:bg-blue-700 text-white py-3 px-4 rounded-lg text-left shadow-md" data-action="auctionSpectrum">
                        Auction Radio Frequency Spectrum
                    </button>
                    <button class="action-button bg-blue-600 hover:bg-blue-700 text-white py-3 px-4 rounded-lg text-left shadow-md" data-action="sellForms">
                        Sell Application Forms / Registration Docs
                    </button>
                    <button class="action-button bg-blue-600 hover:bg-blue-700 text-white py-3 px-4 rounded-lg text-left shadow-md" data-action="feesPenalties">
                        Collect Fees / Penalties / Fines
                    </button>
                    <button class="action-button bg-blue-600 hover:bg-blue-700 text-white py-3 px-4 rounded-lg text-left shadow-md" data-action="royalties">
                        Collect Royalties
                    </button>
                    <button class="action-button bg-blue-600 hover:bg-blue-700 text-white py-3 px-4 rounded-lg text-left shadow-md" data-action="grants">
                        Collect Grants
                    </button>
                    <button class="action-button bg-blue-600 hover:bg-blue-700 text-white py-3 px-4 rounded-lg text-left shadow-md" data-action="psuProfits">
                        Collect PSU Profits
                    </button>
                    <button class="action-button bg-blue-600 hover:bg-blue-700 text-white py-3 px-4 rounded-lg text-left shadow-md" data-action="recoverLoan">
                        Recover Loan
                    </button>
                    <button class="action-button bg-blue-600 hover:bg-blue-700 text-white py-3 px-4 rounded-lg text-left shadow-md" data-action="imfInterest">
                        Collect Interest from IMF Quotas & Forex
                    </button>
                    <button class="action-button bg-blue-600 hover:bg-blue-700 text-white py-3 px-4 rounded-lg text-left shadow-md" data-action="bondInterest">
                        Collect Interest on Indian Govt Bonds
                    </button>
                </div>
                <button id="resetBtn" class="mt-6 w-full bg-red-500 hover:bg-red-600 text-white py-3 px-4 rounded-lg font-medium shadow-md">
                    Reset Simulation
                </button>
            </div>
            
            <!-- Right Panel - Hierarchical Dashboard -->
            <div class="right-panel bg-white rounded-xl shadow-lg p-5 w-full md:w-2/3 overflow-auto" style="max-height: 80vh;">
                <h2 class="text-xl font-semibold mb-4 text-gray-700 border-b pb-2">Receipt (Income)</h2>
                
                <div id="tree-container" class="pl-2">
                    <!-- Root Node -->
                    <div class="tree-node p-2 rounded-md mb-1 has-tooltip relative" id="receipt-income">
                        <div class="flex items-center">
                            <span class="cursor-pointer mr-2 toggle-btn">▼</span>
                            <span class="font-medium">Receipt (Income)</span>
                            <span class="ml-auto bg-green-100 text-green-800 px-2 py-1 rounded-md text-sm">₹<span class="counter">0</span></span>
                        </div>
                        <div class="tooltip">All income sources of the government, including tax and non-tax revenue</div>
                        
                        <!-- Level 1 Nodes -->
                        <div class="pl-6 mt-2">
                            <!-- Revenue Receipt -->
                            <div class="tree-node p-2 rounded-md mb-1 has-tooltip relative" id="revenue-receipt">
                                <div class="flex items-center">
                                    <span class="cursor-pointer mr-2 toggle-btn">▼</span>
                                    <span class="font-medium">Revenue Receipt</span>
                                    <span class="ml-auto bg-green-100 text-green-800 px-2 py-1 rounded-md text-sm">₹<span class="counter">0</span></span>
                                </div>
                                <div class="tooltip">Income that doesn't create future payment liability or reduce assets</div>
                                
                                <!-- Level 2 Nodes under Revenue Receipt -->
                                <div class="pl-6 mt-2">
                                    <!-- Tax Revenue -->
                                    <div class="tree-node p-2 rounded-md mb-1 has-tooltip relative" id="tax-revenue">
                                        <div class="flex items-center">
                                            <span class="cursor-pointer mr-2 toggle-btn">▼</span>
                                            <span class="font-medium">Tax Revenue</span>
                                            <span class="ml-auto bg-green-100 text-green-800 px-2 py-1 rounded-md text-sm">₹<span class="counter">0</span></span>
                                        </div>
                                        <div class="tooltip">Income from various taxes imposed by the government</div>
                                        
                                        <!-- Level 3 Nodes under Tax Revenue -->
                                        <div class="pl-6 mt-2">
                                            <div class="tree-node p-2 rounded-md mb-1 has-tooltip relative" id="direct-tax">
                                                <div class="flex items-center">
                                                    <span class="font-medium">Direct Tax</span>
                                                    <span class="ml-auto bg-green-100 text-green-800 px-2 py-1 rounded-md text-sm">₹<span class="counter">0</span></span>
                                                </div>
                                                <div class="tooltip">Taxes paid directly by individuals and companies (Income Tax, Corporate Tax)</div>
                                            </div>
                                            
                                            <div class="tree-node p-2 rounded-md mb-1 has-tooltip relative" id="indirect-tax">
                                                <div class="flex items-center">
                                                    <span class="font-medium">Indirect Tax</span>
                                                    <span class="ml-auto bg-green-100 text-green-800 px-2 py-1 rounded-md text-sm">₹<span class="counter">0</span></span>
                                                </div>
                                                <div class="tooltip">Taxes on goods and services (GST, Customs Duty, Excise Duty)</div>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <!-- Non-Tax Revenue -->
                                    <div class="tree-node p-2 rounded-md mb-1 has-tooltip relative" id="non-tax-revenue">
                                        <div class="flex items-center">
                                            <span class="cursor-pointer mr-2 toggle-btn">▼</span>
                                            <span class="font-medium">Non-Tax Revenue</span>
                                            <span class="ml-auto bg-green-100 text-green-800 px-2 py-1 rounded-md text-sm">₹<span class="counter">0</span></span>
                                        </div>
                                        <div class="tooltip">Income from sources other than taxes</div>
                                        
                                        <!-- Level 3 Nodes under Non-Tax Revenue -->
                                        <div class="pl-6 mt-2">
                                            <!-- Dividends -->
                                            <div class="tree-node p-2 rounded-md mb-1 has-tooltip relative" id="dividends">
                                                <div class="flex items-center">
                                                    <span class="cursor-pointer mr-2 toggle-btn">▼</span>
                                                    <span class="font-medium">Dividends</span>
                                                    <span class="ml-auto bg-green-100 text-green-800 px-2 py-1 rounded-md text-sm">₹<span class="counter">0</span></span>
                                                </div>
                                                <div class="tooltip">Profits distributed by government-owned entities</div>
                                                
                                                <!-- Level 4 Nodes under Dividends -->
                                                <div class="pl-6 mt-2">
                                                    <div class="tree-node p-2 rounded-md mb-1 has-tooltip relative" id="psus">
                                                        <div class="flex items-center">
                                                            <span class="font-medium">PSUs</span>
                                                            <span class="ml-auto bg-green-100 text-green-800 px-2 py-1 rounded-md text-sm">₹<span class="counter">0</span></span>
                                                        </div>
                                                        <div class="tooltip">Dividends from Public Sector Undertakings</div>
                                                    </div>
                                                    
                                                    <div class="tree-node p-2 rounded-md mb-1 has-tooltip relative" id="rbi">
                                                        <div class="flex items-center">
                                                            <span class="font-medium">RBI</span>
                                                            <span class="ml-auto bg-green-100 text-green-800 px-2 py-1 rounded-md text-sm">₹<span class="counter">0</span></span>
                                                        </div>
                                                        <div class="tooltip">Dividends from Reserve Bank of India</div>
                                                    </div>
                                                </div>
                                            </div>
                                            
                                            <div class="tree-node p-2 rounded-md mb-1 has-tooltip relative" id="loan-recovery">
                                                <div class="flex items-center">
                                                    <span class="font-medium">Loan Recovery</span>
                                                    <span class="ml-auto bg-green-100 text-green-800 px-2 py-1 rounded-md text-sm">₹<span class="counter">0</span></span>
                                                </div>
                                                <div class="tooltip">Recovery of loans given by the government</div>
                                            </div>
                                            
                                            <div class="tree-node p-2 rounded-md mb-1 has-tooltip relative" id="profits-psus">
                                                <div class="flex items-center">
                                                    <span class="font-medium">Profits (PSUs)</span>
                                                    <span class="ml-auto bg-green-100 text-green-800 px-2 py-1 rounded-md text-sm">₹<span class="counter">0</span></span>
                                                </div>
                                                <div class="tooltip">Profits earned by Public Sector Undertakings</div>
                                            </div>
                                            
                                            <div class="tree-node p-2 rounded-md mb-1 has-tooltip relative" id="grants">
                                                <div class="flex items-center">
                                                    <span class="font-medium">Grants</span>
                                                    <span class="ml-auto bg-green-100 text-green-800 px-2 py-1 rounded-md text-sm">₹<span class="counter">0</span></span>
                                                </div>
                                                <div class="tooltip">Financial assistance received without repayment obligation</div>
                                            </div>
                                            
                                            <!-- Income from Services -->
                                            <div class="tree-node p-2 rounded-md mb-1 has-tooltip relative" id="income-services">
                                                <div class="flex items-center">
                                                    <span class="cursor-pointer mr-2 toggle-btn">▼</span>
                                                    <span class="font-medium">Income from Services</span>
                                                    <span class="ml-auto bg-green-100 text-green-800 px-2 py-1 rounded-md text-sm">₹<span class="counter">0</span></span>
                                                </div>
                                                <div class="tooltip">Revenue from services provided by the government</div>
                                                
                                                <!-- Level 4 Nodes under Income from Services -->
                                                <div class="pl-6 mt-2">
                                                    <div class="tree-node p-2 rounded-md mb-1 has-tooltip relative" id="fiscal-services">
                                                        <div class="flex items-center">
                                                            <span class="font-medium">Fiscal Services</span>
                                                            <span class="ml-auto bg-green-100 text-green-800 px-2 py-1 rounded-md text-sm">₹<span class="counter">0</span></span>
                                                        </div>
                                                        <div class="tooltip">Revenue from currency, coinage, and mint operations</div>
                                                    </div>
                                                    
                                                    <div class="tree-node p-2 rounded-md mb-1 has-tooltip relative" id="general-services">
                                                        <div class="flex items-center">
                                                            <span class="font-medium">General Services</span>
                                                            <span class="ml-auto bg-green-100 text-green-800 px-2 py-1 rounded-md text-sm">₹<span class="counter">0</span></span>
                                                        </div>
                                                        <div class="tooltip">Revenue from public services like power distribution</div>
                                                    </div>
                                                </div>
                                            </div>
                                            
                                            <div class="tree-node p-2 rounded-md mb-1 has-tooltip relative" id="fees-penalties">
                                                <div class="flex items-center">
                                                    <span class="font-medium">Fees, Penalties, Royalties, Sale of Forms</span>
                                                    <span class="ml-auto bg-green-100 text-green-800 px-2 py-1 rounded-md text-sm">₹<span class="counter">0</span></span>
                                                </div>
                                                <div class="tooltip">Revenue from various administrative charges and penalties</div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Revenue / Non-Revenue Metadata -->
                            <div class="tree-node p-2 rounded-md mb-1 has-tooltip relative" id="revenue-metadata">
                                <div class="flex items-center">
                                    <span class="cursor-pointer mr-2 toggle-btn">▼</span>
                                    <span class="font-medium">Revenue / Non-Revenue Metadata</span>
                                </div>
                                <div class="tooltip">Information about revenue classification</div>
                                
                                <!-- Level 2 Nodes under Metadata -->
                                <div class="pl-6 mt-2">
                                    <div class="tree-node p-2 rounded-md mb-1 has-tooltip relative" id="what-metadata">
                                        <div class="flex items-center">
                                            <span class="font-medium">What → Collected by Govt for Capital Assets</span>
                                        </div>
                                        <div class="tooltip">Revenue collected for creating capital assets</div>
                                    </div>
                                    
                                    <div class="tree-node p-2 rounded-md mb-1 has-tooltip relative" id="why-metadata">
                                        <div class="flex items-center">
                                            <span class="font-medium">Why → Spent on Development / Revenue Deficit</span>
                                        </div>
                                        <div class="tooltip">Purpose of revenue collection for development and deficit management</div>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Capital Receipt -->
                            <div class="tree-node p-2 rounded-md mb-1 has-tooltip relative" id="capital-receipt">
                                <div class="flex items-center">
                                    <span class="cursor-pointer mr-2 toggle-btn">▼</span>
                                    <span class="font-medium">Capital Receipt</span>
                                    <span class="ml-auto bg-green-100 text-green-800 px-2 py-1 rounded-md text-sm">₹<span class="counter">0</span></span>
                                </div>
                                <div class="tooltip">Income that creates liability or reduces assets</div>
                                
                                <!-- Level 2 Nodes under Capital Receipt -->
                                <div class="pl-6 mt-2">
                                    <div class="tree-node p-2 rounded-md mb-1 has-tooltip relative" id="revenue-loan">
                                        <div class="flex items-center">
                                            <span class="font-medium">Revenue (Loan Recovery)</span>
                                            <span class="ml-auto bg-green-100 text-green-800 px-2 py-1 rounded-md text-sm">₹<span class="counter">0</span></span>
                                        </div>
                                        <div class="tooltip">Recovery of loans given by the government</div>
                                    </div>
                                    
                                    <!-- Non-Revenue -->
                                    <div class="tree-node p-2 rounded-md mb-1 has-tooltip relative" id="non-revenue">
                                        <div class="flex items-center">
                                            <span class="cursor-pointer mr-2 toggle-btn">▼</span>
                                            <span class="font-medium">Non-Revenue</span>
                                            <span class="ml-auto bg-green-100 text-green-800 px-2 py-1 rounded-md text-sm">₹<span class="counter">0</span></span>
                                        </div>
                                        <div class="tooltip">Income that creates future payment liability</div>
                                        
                                        <!-- Level 3 Nodes under Non-Revenue -->
                                        <div class="pl-6 mt-2">
                                            <div class="tree-node p-2 rounded-md mb-1 has-tooltip relative" id="internal-borrowings">
                                                <div class="flex items-center">
                                                    <span class="font-medium">Internal Borrowings (RBI, Banks, Bonds)</span>
                                                    <span class="ml-auto bg-green-100 text-green-800 px-2 py-1 rounded-md text-sm">₹<span class="counter">0</span></span>
                                                </div>
                                                <div class="tooltip">Loans taken from domestic sources</div>
                                            </div>
                                            
                                            <div class="tree-node p-2 rounded-md mb-1 has-tooltip relative" id="external-borrowings">
                                                <div class="flex items-center">
                                                    <span class="font-medium">External Borrowings (World Bank, IMF, etc)</span>
                                                    <span class="ml-auto bg-green-100 text-green-800 px-2 py-1 rounded-md text-sm">₹<span class="counter">0</span></span>
                                                </div>
                                                <div class="tooltip">Loans taken from international sources</div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Toggle tree nodes
            document.querySelectorAll('.toggle-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    const parentNode = this.closest('.tree-node');
                    const childrenContainer = parentNode.querySelector('.pl-6');
                    
                    if (childrenContainer) {
                        childrenContainer.style.display = childrenContainer.style.display === 'none' ? 'block' : 'none';
                        this.textContent = childrenContainer.style.display === 'none' ? '►' : '▼';
                    }
                });
            });
            
            // Reset button functionality
            document.getElementById('resetBtn').addEventListener('click', function() {
                document.querySelectorAll('.counter').forEach(counter => {
                    counter.textContent = '0';
                });
            });
            
            // Action mapping for each button
            const actionMappings = {
                'print500': {
                    paths: ['rbi', 'dividends', 'non-tax-revenue', 'revenue-receipt', 'receipt-income'],
                    description: 'Revenue from printing currency notes flows to RBI dividends'
                },
                'print100stamp': {
                    paths: ['fiscal-services', 'income-services', 'non-tax-revenue', 'revenue-receipt', 'receipt-income'],
                    description: 'Revenue from printing stamps flows to fiscal services'
                },
                'mint10coin': {
                    paths: ['fiscal-services', 'income-services', 'non-tax-revenue', 'revenue-receipt', 'receipt-income'],
                    description: 'Revenue from minting coins flows to fiscal services'
                },
                'distributePower': {
                    paths: ['general-services', 'income-services', 'non-tax-revenue', 'revenue-receipt', 'receipt-income'],
                    description: 'Revenue from power distribution flows to general services'
                },
                'irrigationCess': {
                    paths: ['indirect-tax', 'tax-revenue', 'revenue-receipt', 'receipt-income'],
                    description: 'Irrigation cess is collected as an indirect tax'
                },
                'bankDividend': {
                    paths: ['psus', 'dividends', 'non-tax-revenue', 'revenue-receipt', 'receipt-income'],
                    description: 'Dividends from public sector banks flow to PSU dividends'
                },
                'sellShares': {
                    paths: ['non-revenue', 'capital-receipt', 'receipt-income'],
                    description: 'Selling PSU shares generates capital receipts'
                },
                'bankTaxes': {
                    paths: ['direct-tax', 'tax-revenue', 'revenue-receipt', 'receipt-income'],
                    description: 'Taxes on bank profits are direct taxes'
                },
                'auctionSpectrum': {
                    paths: ['non-tax-revenue', 'revenue-receipt', 'receipt-income'],
                    description: 'Spectrum auction revenue is non-tax revenue'
                },
                'sellForms': {
                    paths: ['fees-penalties', 'non-tax-revenue', 'revenue-receipt', 'receipt-income'],
                    description: 'Revenue from selling forms flows to fees category'
                },
                'feesPenalties': {
                    paths: ['fees-penalties', 'non-tax-revenue', 'revenue-receipt', 'receipt-income'],
                    description: 'Fees and penalties contribute to non-tax revenue'
                },
                'royalties': {
                    paths: ['fees-penalties', 'non-tax-revenue', 'revenue-receipt', 'receipt-income'],
                    description: 'Royalties are part of non-tax revenue'
                },
                'grants': {
                    paths: ['grants', 'non-tax-revenue', 'revenue-receipt', 'receipt-income'],
                    description: 'Grants received contribute to non-tax revenue'
                },
                'psuProfits': {
                    paths: ['profits-psus', 'non-tax-revenue', 'revenue-receipt', 'receipt-income'],
                    description: 'Profits from PSUs flow to non-tax revenue'
                },
                'recoverLoan': {
                    paths: ['loan-recovery', 'non-tax-revenue', 'revenue-receipt', 'receipt-income', 'revenue-loan', 'capital-receipt'],
                    description: 'Loan recovery contributes to both revenue and capital receipts'
                },
                'imfInterest': {
                    paths: ['non-tax-revenue', 'revenue-receipt', 'receipt-income'],
                    description: 'Interest from IMF quotas is non-tax revenue'
                },
                'bondInterest': {
                    paths: ['internal-borrowings', 'non-revenue', 'capital-receipt', 'receipt-income'],
                    description: 'Interest on government bonds is part of internal borrowings'
                }
            };
            
            // Handle action button clicks
            document.querySelectorAll('[data-action]').forEach(button => {
                button.addEventListener('click', function() {
                    const action = this.getAttribute('data-action');
                    const mapping = actionMappings[action];
                    
                    if (mapping) {
                        simulateMoneyFlow(this, mapping.paths);
                    }
                });
            });
            
            // Function to simulate money flow with animations
            function simulateMoneyFlow(sourceButton, targetPaths) {
                const amount = 497;
                const buttonRect = sourceButton.getBoundingClientRect();
                
                // Create starting point for animation
                const startX = buttonRect.left + buttonRect.width / 2;
                const startY = buttonRect.top + buttonRect.height / 2;
                
                // Highlight paths and update counters
                targetPaths.forEach((pathId, index) => {
                    const targetNode = document.getElementById(pathId);
                    if (!targetNode) return;
                    
                    // Get counter element
                    const counter = targetNode.querySelector('.counter');
                    if (counter) {
                        // Create coin animation
                        setTimeout(() => {
                            createCoinAnimation(startX, startY, targetNode);
                            
                            // Update counter
                            const currentValue = parseInt(counter.textContent) || 0;
                            counter.textContent = currentValue + amount;
                            
                            // Highlight node
                            targetNode.classList.add('highlight');
                            targetNode.classList.add('pulse');
                            setTimeout(() => {
                                targetNode.classList.remove('highlight');
                                targetNode.classList.remove('pulse');
                            }, 1500);
                        }, index * 100); // Stagger the animations
                    }
                });
            }
            
            // Function to create coin animation
            function createCoinAnimation(startX, startY, targetNode) {
                const coin = document.createElement('div');
                coin.className = 'coin';
                coin.style.left = `${startX}px`;
                coin.style.top = `${startY}px`;
                document.body.appendChild(coin);
                
                // Get target position
                const targetRect = targetNode.getBoundingClientRect();
                const targetX = targetRect.left + targetRect.width - 50; // Position near counter
                const targetY = targetRect.top + targetRect.height / 2;
                
                // Animate coin
                const startTime = performance.now();
                const duration = 800; // ms
                
                function animateCoin(currentTime) {
                    const elapsed = currentTime - startTime;
                    const progress = Math.min(elapsed / duration, 1);
                    
                    // Use bezier curve for natural arc
                    const x = startX + (targetX - startX) * progress;
                    const y = startY + (targetY - startY) * progress - Math.sin(progress * Math.PI) * 100;
                    
                    coin.style.left = `${x}px`;
                    coin.style.top = `${y}px`;
                    coin.style.opacity = 1 - (progress * 0.5);
                    
                    if (progress < 1) {
                        requestAnimationFrame(animateCoin);
                    } else {
                        // Remove coin at end of animation
                        document.body.removeChild(coin);
                    }
                }
                
                requestAnimationFrame(animateCoin);
            }
        });
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'95430d4771997f46',t:'MTc1MDY3MTkxOS4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
